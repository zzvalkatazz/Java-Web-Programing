
    <!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://xmlns.jcp.org/jsf/html"
          xmlns:f="http://xmlns.jcp.org/jsf/core"
          xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Заявка за резервация</title>
    </h:head>

    <h:body>


        <f:metadata>
            <f:viewParam name="hallId" value="#{reservationBean.hallId}" />
        </f:metadata>

    <h:form id="resForm">
        <p:growl id="msgs" showDetail="true" life="4000"/>

        <p:panel header="Заявка за резервация"
                 style="max-width:600px; margin:50px auto; padding: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">

    <p:panelGrid columns="2"
                 columnClasses="ui-grid-col-4, ui-grid-col-8" 
                 styleClass="ui-panelgrid-blank ui-fluid" 
                 style="width:100%">

        <h:outputText value="Зала:" style="font-weight:bold" />
        <h:panelGroup>
            <p:selectOneMenu value="#{reservationBean.hallId}" required="true" requiredMessage="Избери зала.">
                <f:selectItem itemLabel="-- избери --" itemValue="#{null}" />
                <f:selectItems value="#{reservationBean.halls}" var="h"
                               itemLabel="#{h.name} (#{h.location})" itemValue="#{h.id}" />
            </p:selectOneMenu>
        </h:panelGroup>

        <h:outputText value="Начало:" style="font-weight:bold" />
        <h:panelGroup>
            <p:datePicker id="startDt" value="#{reservationBean.startDate}"
                         showTime="true" hourFormat="24" pattern="dd.MM.yyyy HH:mm"
                         required="true" requiredMessage="Въведете начало." />
            <p:message for="startDt" /> 
        </h:panelGroup>

        <h:outputText value="Край:" style="font-weight:bold" />
        <h:panelGroup>
            <p:datePicker id="endDt" value="#{reservationBean.endDate}"
                         showTime="true" hourFormat="24" pattern="dd.MM.yyyy HH:mm"
                         required="true" requiredMessage="Въведете край.">
                <f:validator validatorId="dateRangeValidator"/>
                <f:attribute name="start" value="#{reservationBean.startDate}"/>
                <p:ajax event="dateSelect" process="startDt endDt" update="msgs endMsg"/>
            </p:datePicker>
            <p:message id="endMsg" for="endDt"/>
        </h:panelGroup>

        <h:outputText value="Тип събитие:" style="font-weight:bold" />
        <h:panelGroup>
            <p:inputText value="#{reservationBean.eventType}" />
        </h:panelGroup>

    </p:panelGrid>

            <p:separator style="margin: 25px 0;"/>

           <p:commandButton value="Заяви"
                     icon="pi pi-send"
                     action="#{reservationBean.requestReservation}"
                     process="@form"
                     update="@form"
                     style="height: 45px; font-size: 1.1em; background-color: #2196F3; border: none;"
                     rendered="#{loginBean.canReserve}" />
        </p:panel>
    </h:form>


    </h:body>
    </html>
