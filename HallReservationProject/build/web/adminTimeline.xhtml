
    <!--
    To change this license header, choose License Headers in Project Properties.
    To change this template file, choose Tools | Templates
    and open the template in the editor.
    -->
    <!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://xmlns.jcp.org/jsf/html"
          xmlns:f="http://xmlns.jcp.org/jsf/core"
          xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Резервации по дни</title>
    </h:head>

    <h:body>
    <h:form id="tForm">

        <f:event type="preRenderView" listener="#{adminTimelineBean.load}" />

        <p:panel header="Line chart: резервации по дни"
                 style="max-width:1000px;margin:20px auto;">

            <p:toolbar style="margin-bottom:10px;">
                <p:toolbarGroup>
                    <p:outputLabel value="Период (дни):" for="days" style="margin-right:8px"/>
                    <p:inputNumber id="days" value="#{adminTimelineBean.days}" decimalPlaces="0" minValue="1" maxValue="365"
                                   style="width:120px">
                        <p:ajax event="blur" listener="#{adminTimelineBean.refresh}" update="chart" />
                    </p:inputNumber>
                </p:toolbarGroup>

                <p:toolbarGroup align="right">
                    <p:commandButton value="Обнови" icon="pi pi-refresh"
                                     actionListener="#{adminTimelineBean.refresh}"
                                     update="chart"
                                     process="@this"/>
                </p:toolbarGroup>
            </p:toolbar>

            <p:lineChart id="chart" model="#{adminTimelineBean.timelineChart}"
                         style="width:100%;height:420px"/>

            <p:separator/>

            <p:commandButton value="Назад"
                             icon="pi pi-arrow-left"
                             action="/halls.xhtml?faces-redirect=true"
                             ajax="false"/>
        </p:panel>

    </h:form>
    </h:body>
    </html>

